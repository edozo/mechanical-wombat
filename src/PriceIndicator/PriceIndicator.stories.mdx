import { useState } from 'react';
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { PriceIndicator } from '../PriceIndicator';
import { Switch } from '../Switch';
import { Tooltip } from '../Tooltip';

<Meta title="Components|PriceIndicator" />

# PriceIndicator

## Description

PriceIndicator is a simple styled and animated set of elements to be use to indicate users that the costs of an item (map) are increasing

### Default

<Preview>
  <Story name="Default">
    {() => {
      const [priceTotal, setPriceTotal] = useState(0);
      const [priceIncrease, setPriceIncrease] = useState(0);
      const updatePrice = ({ priceIncrease }) => {
        setPriceIncrease(priceIncrease);
        setPriceTotal(prevState => prevState + priceIncrease);
      };
      return (
        <div style={{ height: '100px' }}>
          <button onClick={() => updatePrice({ priceIncrease: Math.random() })}>Increase price by random penny's</button>
          <div style={{ position: 'absolute', bottom: '24px', right: '24px' }}>
            <PriceIndicator total={priceTotal} addition={priceIncrease}>
              hover content will be here and it can be super long
            </PriceIndicator>
          </div>
        </div>
      );
    }}
  </Story>
</Preview>


### Active

<Preview>
  <Story name="Active">
    {() => {
      const [priceTotal, setPriceTotal] = useState(0);
      const [priceIncrease, setPriceIncrease] = useState(0);
      const updatePrice = ({ priceIncrease }) => {
        setPriceIncrease(priceIncrease);
        setPriceTotal(prevState => prevState + priceIncrease);
      };
      return (
        <div style={{ height: '100px' }}>
          <button onClick={() => updatePrice({ priceIncrease: Math.random() })}>Increase price by random penny's</button>
          <div style={{ position: 'absolute', bottom: '24px', right: '24px' }}>
            <PriceIndicator isActive total={priceTotal} addition={priceIncrease}>
              <Tooltip content={<div>
                <span>Tooltip</span>
              </div>}>
                <button type="button">the child</button>
              </Tooltip>hover content will be here and it can be super long
            </PriceIndicator>
          </div>
        </div>
      );
    }}
  </Story>
</Preview>
